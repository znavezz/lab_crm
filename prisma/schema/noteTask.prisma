model NoteTask {
  id        String   @id @default(cuid())
  title     String?
  content   String   // note or task description
  completed Boolean  @default(false)
  dueDate   DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  /// Optional references to any entity (polymorphic relation via multiple foreign keys)
  memberId       String? 
  member         Member?       @relation(fields: [memberId], references: [id], onDelete: Cascade)
  projectId      String?
  project        Project?      @relation(fields: [projectId], references: [id], onDelete: Cascade)
  grantId        String?
  grant          Grant?        @relation(fields: [grantId], references: [id], onDelete: Cascade)
  eventId        String?
  event          Event?        @relation(fields: [eventId], references: [id], onDelete: Cascade)
  publicationId  String?
  publication    Publication?  @relation(fields: [publicationId], references: [id], onDelete: Cascade)
  documentId     String?
  document       Document?     @relation(fields: [documentId], references: [id], onDelete: Cascade)
  equipmentId    String?
  equipment      Equipment?    @relation(fields: [equipmentId], references: [id], onDelete: Cascade)
  collaboratorId String?
  collaborator   Collaborator? @relation(fields: [collaboratorId], references: [id], onDelete: Cascade)
  expenseId      String?
  expense        Expense?      @relation(fields: [expenseId], references: [id], onDelete: Cascade)


  // Indexes on foreign keys for efficient lookups by linked entity
  @@index([memberId])
  @@index([projectId])
  @@index([grantId])
  @@index([eventId])
  @@index([publicationId])
  @@index([documentId])
  @@index([equipmentId])
  @@index([collaboratorId])
  @@index([expenseId])
}
