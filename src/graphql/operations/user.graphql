# User Queries and Mutations

query GetUsers {
  User {
    id
    name
    email
    emailVerified
    image
    memberId
    Member {
      id
      name
    }
    createdAt
    updatedAt
  }
}

query GetUser($id: String!) {
  User_by_pk(id: $id) {
    id
    name
    email
    emailVerified
    image
    memberId
    Member {
      id
      name
    }
    createdAt
    updatedAt
  }
}

query GetUserByEmail($email: String!) {
  User(where: { email: { _eq: $email } }, limit: 1) {
    id
    name
    email
    emailVerified
    image
    memberId
    role
  }
}

mutation UpdateUser($id: String!, $set: User_set_input!) {
  update_User_by_pk(pk_columns: { id: $id }, _set: $set) {
    id
    name
    email
    image
    memberId
  }
}

mutation LinkUserToMember($userId: String!, $memberId: String!) {
  update_User_by_pk(pk_columns: { id: $userId }, _set: { memberId: $memberId }) {
    id
    memberId
  }
}







